(function(){var t,n;t=function(t){return $(document).ready(t),$(document).on("page:load",t)},n=function(){var t;return window.location.pathname.match(/.*journeys\/[0-9]+$/)&&(t=new Map("map"),t.setDimensions("100%","500px"),t.initialize(),$("#entry_list .entry").each(function(){var n,i,e,a,o;return i=$(this).find(".location").text().split(","),a=$(this).find(".title").text(),o=$(this).find(".url").text(),n=$(this).find(".index").text(),e={lat:i[0],lng:i[1],title:a,info:"<h3>"+n+'. <a href="'+o+'">'+a+"</a></h3>"},t.addMarker(e)}),t.connectMarkers(),t.autoCenter()),window.location.pathname.match(/^\/$/)?(console.log("app"),t=new Map("map"),t.setDimensions("100%","100%"),t.initialize(),$(".entry").each(function(){var n,i,e,a,o,r,h;return a=$(this).find(".location").text().split(","),r=$(this).find(".title").text(),h=$(this).find(".url").text(),n=$(this).find(".author").text(),i=$(this).find(".author_url").text(),e=$(this).find(".journey_url").text(),o={lat:a[0],lng:a[1],title:r,info:""},o.info='<h3><a href="'+h+'">'+r+"</a></h3>",o.info+='<p>Read the whole <a href="'+e+'">Journey</a></p>',o.info+="<br>",o.info+='<p><span class="fa fa-user"></span> <a href="'+i+'">'+n+"</a></h3>",t.addMarker(o)}),t.autoCenter()):void 0},t(n)}).call(this);