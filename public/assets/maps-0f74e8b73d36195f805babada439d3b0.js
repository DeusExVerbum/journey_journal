(function(){var e;e=function(){function e(e,t){this.lat=e,this.lng=t,this.pos=new google.maps.LatLng(e,t),this.title=""}return e}(),this.Map=function(){function e(e){this.id=e,this.markers=new Array,this.markerBounds=new google.maps.LatLngBounds,this.geolocationSupported=!1,this.map="Uninitialized Map Object",this.styledMap="Uninitialized Map Object",this.options={center:{lat:0,lng:0},zoom:1,disableDefaultUI:!0},this.mapStyles=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#ecf0f1"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#ecf0f1"},{visibility:"on"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{lightness:"-30"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#2980b9"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{saturation:"0"},{lightness:"0"},{color:"#222222"},{visibility:"simplified"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{weight:"1"},{saturation:"0"},{lightness:"0"},{color:"#f2f2f2"},{visibility:"simplified"}]}]}return e.prototype.addMarker=function(e){var t,o,i;return i={map:this.map,icon:{path:MAP_PIN,fillColor:"#E74C3C",fillOpacity:1,strokeColor:"",strokeWeight:0,scale:.2},label:'<i class="map-icon-parking"></i>'},e.lat&&e.lng?(t=new google.maps.LatLng(e.lat,e.lng),this.markerBounds.extend(t),i.position=t,e.title&&(i.title=e.title),e.url&&(i.url=e.url),e.info&&(i.info=e.info),null!=e.icon&&null!=e.icon.fillColor&&(i.icon.fillColor=e.icon.fillColor),o=new google.maps.Marker(i),o.setMap(this.map),this.markers.push(o),this.setMarkerClickEvent(o)):void console.error("ERROR Creating marker: Undefined latitude or longitude.")},e.prototype.removeMarker=function(e){return e||console.error("Cannot removeMarker without an index."),-1===e?(this.markers[this.markers.length-1].setMap(null),this.markers=this.markers.splice(this.markers.length-1,1)):(this.markers[e].setMap(null),this.markers=this.markers.splice(e,1))},e.prototype.setMarkerClickEvent=function(e){var t;return e.info&&e.url?console.error("ERROR: two onClick events are specified (infoWindow and Link)"):e.info?(t=new google.maps.InfoWindow({content:e.info,visible:!1}),google.maps.event.addListener(e,"click",function(){return t.visible===!1?(t.open(this.map,this),t.visible=!0):(t.close(),t.visible=!1)})):e.url?google.maps.event.addListener(e,"click",function(){return window.location.href=this.url}):void 0},e.prototype.connectMarkers=function(e){var t,o,i,n,r;for(e||(e={}),t=[],r=this.markers,i=0,n=r.length;n>i;i++)o=r[i],t.push(o.position);return e.path=t,e.geodesic||(e.geodesic=!0),e.strokeColor||(e.strokeColor="#E74C3C"),e.strokeOpacity||(e.strokeOpacity=1),e.strokeWeight||(e.strokeWeight=2),this.path=new google.maps.Polyline(e),this.path.setMap(this.map)},e.prototype.disconnectMarkers=function(){return this.path?this.path.setMap(null):void console.log("Cannot disconnectMarkers until markers are connected")},e.prototype.enableSetLatLngByClick=function(){var e,t;return t=this,e=!1,google.maps.event.addListener(this.map,"click",function(o){return e?t.removeMarker(-1):e=!0,this.panTo(o.latLng),t.addMarker({lat:o.latLng.k,lng:o.latLng.B}),document.getElementById("entry_latitude").value=o.latLng.k,document.getElementById("entry_longitude").value=o.latLng.B})},e.prototype.setupMap=function(){return this.styledMap=new google.maps.StyledMapType(this.mapStyles,{name:"Styled Map"}),this.options.mapTypeControlOptions={mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_styles"]},this.map=new google.maps.Map(document.getElementById(this.id),this.options),this.map.mapTypes.set("map_style",this.styledMap),this.map.setMapTypeId("map_style")},e.prototype.initialize=function(){return google.maps.event.addDomListener(window,"load",this.setupMap()),navigator.geolocation?(this.geolocationSupported=!0,this.addLocateMeButton(this.map)):void 0},e.prototype.setCenter=function(e,t){var o;return this.options.center.lat=e,this.options.center.lng=t,o=new google.maps.LatLng(e,t),this.map.setCenter(o)},e.prototype.setZoom=function(e){return this.map.setZoom(e)},e.prototype.autoCenter=function(){return this.markers.length>0?this.map.fitBounds(this.markerBounds):console.error("Cannot autoCenter map. There are no markers to center on")},e.prototype.addLocateMeButton=function(e){var t,o,i,n;return navigator.geolocation?(o=function(){var t,o,i;return o={enableHighAccuracy:!0,timeout:1e4},i=function(t){var o;return o=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),e.setCenter(o),e.setZoom(14)},t=function(){return console.log("Geolocation error. Error code: "+error.code)},navigator.geolocation.getCurrentPosition(i,t,o)},t=function(e){var t,i;return e.style.padding="5px",e.style.padding="5px",i=document.createElement("div"),i.style.backgroundColor="#FFFFFF",i.style.borderStyle="solid",i.style.borderWidth="1px",i.style.cursor="pointer",i.style.textAlign="center",i.title="Click to center the map on your location.",e.appendChild(i),t=document.createElement("div"),t.style.fontSize="28px",t.style.paddingLeft="2px",t.style.paddingRight="3px",t.innerHTML='<i class="fa fa-location-arrow"></i>',i.appendChild(t),google.maps.event.addDomListener(i,"click",function(){return o()})},n=document.createElement("div"),i=new t(n,this.map),n.index=1,this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(n)):void console.error("Geolocation not supported: Cannot add locateMe button.")},e.prototype.setDimensions=function(e,t){return document.getElementById(this.id).style.width=e,document.getElementById(this.id).style.height=t},e}(),$(document).ready(function(){var e;return window.location.pathname.match(/^\/$/)?(e=new Map("map"),e.setCenter(37,-121),e.initialize(),e.addMarker(37.2,-121,"Marker 1"),e.addMarker(36.8,-121),e.showMarkers()):void 0})}).call(this);